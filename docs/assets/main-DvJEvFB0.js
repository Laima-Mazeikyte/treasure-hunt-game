import{h as Te,e as Le,d as U,i as Se}from"./instantdb-D5dQ5UkJ.js";/* empty css              */const O=document.getElementById("grid-container"),B=40,ce=navigator.userAgent||"",Be=/Chrome/.test(ce)&&!/Edg|OPR|Brave|Chromium/.test(ce),ke=!Be;let V=[],g=-1e3,f=-1e3,I=[],H=0,y=!1,p=!1,M=!1,D=null,C=[],v=1,j=3,A=0,X=0,G=!1,w=!1,R=null;function N(){document.body.classList.toggle("performance-mode",ke&&y)}const P={classic:{name:"Treasure Hunt",colors:{baseColor:{r:102,g:194,b:255},targetColor:{r:255,g:92,b:52},hazardColor:{r:53,g:30,b:40}},assets:{target:{src:"target-gem-01.svg",size:32,randomColor:!0},hazard:{src:"hazzard-octopus.svg",size:32}},copy:{gameTitle:"Treasure Hunt",themePrompt:"Select a theme:",levelPrompt:"Select a level to start:",levelButtonTemplate:"Level {level}",levelButtonSubtext:"{hazards} Hazards, {targets} Targets",legendTargetLabel:"Targets",legendHazardLabel:"Hazards",gameOverTitle:"Game Over!",gameOverMessage:"You were caught by a hazard!",levelCompleteTitle:"Level {level} complete!",levelCompleteMessage:"All targets found!",nextLevelCta:"Next Level",restartCta:"Restart Game",playAgainCta:"Play Again",saveScoreCta:"Save Score",finishRunCta:"Finish Run"},levelOverrides:{},dotGrid:{type:"symbols",characters:"▲◆•✦★◊",fontSize:20,fontFamily:"Arial, sans-serif",colorSource:"custom",color:{r:215,g:239,b:255}},dotBehavior:{pushRadius:150,maxPushDistance:60,scaleRadius:150,maxScale:1.5,visibilityRadius:250,fullVisibilityRadius:100,baseJitterAmount:2,dangerShakeAmount:20,dangerShakeExponent:1.5,dangerZone:200}}};let $="classic",Y={...P.classic.colors.baseColor},Q={...P.classic.colors.targetColor},ee={...P.classic.colors.hazardColor};const le=400,de=300;function T(e){return P[e]||P.classic}function q(e){e&&(e.innerHTML="",e.style.backgroundImage="",e.style.backgroundSize="",e.style.backgroundRepeat="",e.style.backgroundPosition="")}async function k(e,t){if(!e||!t||!t.src)return;const n=t.size||40;e.style.width=`${n}px`,e.style.height=`${n}px`,q(e);const o=t.src.endsWith(".svg"),s=t.src.match(/\.(png|jpg|jpeg|gif|webp)$/i);if(o){t.randomColor&&e.classList.contains("target")?fetch(t.src).then(a=>a.text()).then(a=>{e.innerHTML=a;const r=e.querySelector("svg");if(!r)return;r.style.width="100%",r.style.height="100%",r.style.display="block";const c=Re();r.querySelectorAll("path").forEach(m=>{m.setAttribute("fill",c)});const l=(m=>{const u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(m);return u?{r:parseInt(u[1],16),g:parseInt(u[2],16),b:parseInt(u[3],16)}:null})(c);l&&(e.style.filter=`drop-shadow(0 0 8px rgba(${l.r}, ${l.g}, ${l.b}, 0.9)) drop-shadow(0 0 12px rgba(${l.r}, ${l.g}, ${l.b}, 0.6))`)}).catch(a=>{console.error("Failed to load SVG for color randomization:",a),e.style.backgroundImage=`url(${t.src})`,e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center"}):(e.style.backgroundImage=`url(${t.src})`,e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center");return}if(s){e.style.backgroundImage=`url(${t.src})`,e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center";return}}function Ie(e){return e.replace(/\s+/g," ").trim()}async function we(e){if(G)return{ok:!1,error:"Score already saved for this run."};if(!Le()||!U)return{ok:!1,error:"Leaderboard is not configured yet."};const t={nickname:e,totalTargets:A,levelsCompleted:X,createdAt:Date.now()};try{return await U.transact(U.tx.leaderboard_entries[Se()].update(t)),G=!0,{ok:!0}}catch{return{ok:!1,error:"Could not save score. Please try again."}}}function ze({title:e,description:t}){const n=document.createElement("div");n.className="score-modal-overlay",n.innerHTML=`
        <div class="score-modal-card" role="dialog" aria-modal="true">
            <h2>${e}</h2>
            <p>${t}</p>
            <form class="score-form">
                <label class="score-label" for="score-nickname-input">Nickname</label>
                <input id="score-nickname-input" class="score-input" type="text" maxlength="20" placeholder="Your name" />
                <div class="score-error" aria-live="polite"></div>
                <div class="score-actions">
                    <button type="button" class="score-cancel">Cancel</button>
                    <button type="submit" class="score-submit">Save</button>
                </div>
            </form>
        </div>
    `;const o=n.querySelector("#score-nickname-input"),s=n.querySelector(".score-error"),a=n.querySelector(".score-cancel"),r=n.querySelector(".score-submit"),c=n.querySelector(".score-form"),i=()=>{n.remove(),document.removeEventListener("keydown",d)},d=l=>{l.key==="Escape"&&i()};Te?G&&(s.textContent="Score already saved for this run.",r.disabled=!0):(s.textContent="Leaderboard setup missing. Add your InstantDB app ID first.",r.disabled=!0),a.addEventListener("click",i),n.addEventListener("click",l=>{l.target===n&&i()}),c.addEventListener("submit",async l=>{l.preventDefault();const m=Ie(o.value||"");if(!m){s.textContent="Please enter a nickname.";return}if(m.length<2){s.textContent="Nickname must be at least 2 characters.";return}if(m.length>20){s.textContent="Nickname must be 20 characters or fewer.";return}r.disabled=!0,a.disabled=!0,r.textContent="Saving...",s.textContent="";const u=await we(m);if(!u.ok){r.disabled=!1,a.disabled=!1,r.textContent="Save",s.textContent=u.error;return}r.textContent="Saved!",setTimeout(()=>{window.location.href="leaderboard.html"},400)}),document.body.appendChild(n),document.addEventListener("keydown",d),o&&o.focus()}function Fe(e){const t=document.getElementById("start-title");t&&(t.textContent=e.copy.gameTitle)}function te(e,t){const n=J(e,t);k(document.getElementById("target-legend-icon"),n.assets.target),k(document.getElementById("hazard-legend-icon"),n.assets.hazard),k(document.getElementById("target-indicator-icon"),n.assets.target),k(document.getElementById("hazard-indicator-icon"),n.assets.hazard)}function J(e,t=$){const n=T(t),o=e===1?0:Math.min(e-1,8),s=e<=2?3:3+(e-2)*2;return{hazards:o,targets:s,assets:{target:n.assets.target,hazard:n.assets.hazard},movingHazards:!0}}function he(){const e=J(v);C=[];const t=250,n=e.assets.hazard,o=n.size||40,s=o/2;for(let a=0;a<e.hazards;a++){const r=document.createElement("div");r.className="hazard",k(r,n);let c,i,d,l;do{c=Math.random()*(window.innerWidth-o*2)+o,i=Math.random()*(window.innerHeight-o*2)+o,d=C.some(x=>{const L=c-x.x,S=i-x.y;return Math.sqrt(L*L+S*S)<200});const b=c-g,h=i-f;l=Math.sqrt(b*b+h*h)<t}while(d||l);r.style.left=`${c-s}px`,r.style.top=`${i-s}px`,document.body.appendChild(r);const m=.5,u=Math.random()*Math.PI*2;C.push({element:r,x:c,y:i,size:o,velocityX:Math.cos(u)*m,velocityY:Math.sin(u)*m})}}function ye(){const e=J(v);j=e.targets,I=[];const t=200,n=e.assets.target,o=n.size||40,s=o/2;for(let a=0;a<e.targets;a++){const r=document.createElement("div");r.className="target";let c,i,d,l;do{c=Math.random()*(window.innerWidth-o*2)+o,i=Math.random()*(window.innerHeight-o*2)+o,d=C.some(h=>{const E=c-h.x,x=i-h.y;return Math.sqrt(E*E+x*x)<150});const m=c-g,u=i-f;l=Math.sqrt(m*m+u*u)<t}while(d||l);r.style.left=`${c-s}px`,r.style.top=`${i-s}px`,document.body.appendChild(r),k(r,n).catch(m=>{console.error("Failed to apply asset to target:",m)}),I.push({element:r,x:c,y:i,size:o,revealed:!1,hasBeenHovered:!1})}}function De(e){return e[Math.floor(Math.random()*e.length)]}function Re(){const e=["#FFFFFF","#FFBEE3","#FCFFBD","#F7C0C1","#E9F056","#D3B6F0","#BFEC78","#99F8FF","#78ECAA"];return e[Math.floor(Math.random()*e.length)]}function He(e,t){if(!t){e.className="dot";return}if(t.type==="dots")e.className="dot";else{e.className="dot dot-text";const n=De(t.characters);e.textContent=n,t.fontSize&&(e.style.fontSize=`${t.fontSize}px`),t.fontFamily&&(e.style.fontFamily=t.fontFamily),t.fontWeight&&(e.style.fontWeight=t.fontWeight)}}function pe(){const e=window.innerWidth,t=window.innerHeight,n=Math.ceil(e/B)+1,o=Math.ceil(t/B)+1;O.style.gridTemplateColumns=`repeat(${n}, ${B}px)`,O.style.gridTemplateRows=`repeat(${o}, ${B}px)`,O.innerHTML="",V=[];const a=T($).dotGrid;for(let r=0;r<o;r++)for(let c=0;c<n;c++){const i=document.createElement("div");He(i,a);const d=c*B,l=r*B;V.push({element:i,originalX:d,originalY:l,currentX:d,currentY:l}),O.appendChild(i)}}function Ae(){J(v),y&&C.forEach(e=>{e.x+=e.velocityX,e.y+=e.velocityY;const t=Math.max(40,e.size);(e.x<t||e.x>window.innerWidth-t)&&(e.velocityX*=-1,e.x=Math.max(t,Math.min(window.innerWidth-t,e.x))),(e.y<t||e.y>window.innerHeight-t)&&(e.velocityY*=-1,e.y=Math.max(t,Math.min(window.innerHeight-t,e.y))),e.element.style.left=`${e.x-e.size/2}px`,e.element.style.top=`${e.y-e.size/2}px`})}function Xe(){if(!p||!M){const t=T($).dotBehavior||{pushRadius:150};for(let n of V){const o=g-n.originalX,s=f-n.originalY;if(Math.sqrt(o*o+s*s)<t.pushRadius)return!0}}return M}function ve(){const e=T($),t=e.dotBehavior||{pushRadius:150,maxPushDistance:60,scaleRadius:150,maxScale:1.5,visibilityRadius:250,fullVisibilityRadius:100,dangerShakeAmount:20,dangerShakeExponent:1.5,dangerZone:200};let n=1/0;C.forEach(a=>{const r=g-a.x,c=f-a.y,i=Math.sqrt(r*r+c*c);i<n&&(n=i)});const o=n<t.dangerZone,s=o?1-n/t.dangerZone:0;V.forEach(a=>{const r=g-a.originalX,c=f-a.originalY,i=Math.sqrt(r*r+c*c);let d=0;i<t.fullVisibilityRadius?d=1:i<t.visibilityRadius&&(d=1-(i-t.fullVisibilityRadius)/(t.visibilityRadius-t.fullVisibilityRadius)),a.element.style.opacity=d;let l=1;const m=Math.max(t.scaleRadius||0,t.visibilityRadius||0);if(m>0&&(l=1+(1-Math.min(i,m)/m)*(t.maxScale-1)),i<t.pushRadius){let u=(1-i/t.pushRadius)*t.maxPushDistance;if(o){const b=t.hazardJitterBoost||1.6,h=Math.pow(s,t.dangerShakeExponent)*t.dangerShakeAmount*b,E=(Math.random()-.5)*h,x=(Math.random()-.5)*h,L=t.baseJitterAmount||0,S=(Math.random()-.5)*L,z=(Math.random()-.5)*L,F=Math.atan2(c,r),Me=-Math.cos(F)*u+E+S,$e=-Math.sin(F)*u+x+z;a.element.style.transform=`translate(${Me}px, ${$e}px) scale(${l})`;const re=Math.floor(s*220),K=_(e,W),ie=`rgba(${Math.min(255,K.r+80)}, ${Math.max(0,K.g-re)}, ${Math.max(0,K.b-re)}, 0.6)`;a.element.classList.contains("dot-text")?a.element.style.color=ie:a.element.style.backgroundColor=ie}else{const b=Math.atan2(c,r),h=o&&t.baseJitterAmount||0,E=(Math.random()-.5)*h,x=(Math.random()-.5)*h,L=-Math.cos(b)*u+E,S=-Math.sin(b)*u+x,z=_(e,W),F=`rgba(${z.r}, ${z.g}, ${z.b}, 0.5)`;a.element.style.transform=`translate(${L}px, ${S}px) scale(${l})`,a.element.classList.contains("dot-text")?a.element.style.color=F:a.element.style.backgroundColor=F}}else{const u=_(e,W),b=`rgba(${u.r}, ${u.g}, ${u.b}, 0.5)`,h=o&&t.baseJitterAmount||0,E=(Math.random()-.5)*h,x=(Math.random()-.5)*h;a.element.style.transform=`translate(${E}px, ${x}px) scale(${l})`,a.element.classList.contains("dot-text")?a.element.style.color=b:a.element.style.backgroundColor=b}}),Ae(),requestAnimationFrame(ve)}function Pe(){let e=1/0,t=null;return I.forEach(n=>{if(!n.revealed&&!n.hasBeenHovered){const o=g-n.x,s=f-n.y,a=Math.sqrt(o*o+s*s);a<e&&(e=a,t=n)}}),t&&e<50?D!==t&&(D=t):D&&e>=50&&(D.hasBeenHovered=!0,D=null),e}function ue(e,t,n){return{r:Math.round(e.r+(t.r-e.r)*n),g:Math.round(e.g+(t.g-e.g)*n),b:Math.round(e.b+(t.b-e.b)*n)}}function be(){const e=document.getElementById("target-count");e.textContent=j-H}function Ye(){const e=document.getElementById("hazard-count"),t=J(v);e.textContent=t.hazards;const n=e.closest(".legend-item");n&&(n.style.display=t.hazards===0?"none":"flex")}function xe(){te(v,$)}function qe(e,t){const n=document.getElementById("cursor-indicators"),o=document.getElementById("target-fill"),s=document.getElementById("hazard-fill"),a=25;n.style.left=`${g+a}px`,n.style.top=`${f}px`,n.style.opacity="1";const r=400,c=300,i=Math.max(0,Math.min(100,(1-e/r)*100)),d=Math.max(0,Math.min(100,(1-t/c)*100));o.style.width=`${i}%`,s.style.width=`${d}%`}function ne(){!R||!w||(R.style.left=`${g}px`,R.style.top=`${f}px`,R.style.transform="translate(-50%, -50%)")}function Ne(){R=document.getElementById("custom-cursor")}function Je(){const e=document.getElementById("start-title");if(!e)return;const t=e.textContent||"",n=()=>{const s=e.getBoundingClientRect();e.style.minHeight=`${s.height}px`,e.style.minWidth=`${s.width}px`,e.style.display="inline-block"},o=()=>{e.textContent="",e.style.visibility="visible";let s=0;const a=()=>{s<=t.length&&(e.textContent=t.slice(0,s),s+=1,setTimeout(a,80))};a()};document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{n(),o()}):(n(),o())}function me(e,t,n=!1){const o=document.getElementById("instruction-text"),s=document.getElementById("instruction-overlay");if(!(!o||!s))if(s.style.display="block",s.style.opacity="1",s.classList.remove("dissolving"),n){o.innerHTML="";const a=document.createElement("div");a.innerHTML=e;const r=e;let c="",i="",d=!1,l=0;const m=()=>{if(l<r.length){const u=r[l];u==="<"?(d=!0,i="<"):u===">"&&d?(i+=">",c+=i,i="",d=!1):d?i+=u:c+=u,o.innerHTML=c,l++,setTimeout(m,25)}else setTimeout(()=>{s.classList.add("dissolving"),setTimeout(()=>{s.style.display="none",t&&t()},1e3)},100)};m()}else{o.textContent="";let a=0;const r=()=>{a<=e.length?(o.textContent=e.slice(0,a),a+=1,setTimeout(r,25)):setTimeout(()=>{s.classList.add("dissolving"),setTimeout(()=>{s.style.display="none",t&&t()},1e3)},100)};r()}}function ge(e){const t=document.getElementById("instruction-text"),n=document.getElementById("instruction-overlay");!t||!n||(n.style.display="block",n.style.opacity="1",n.classList.remove("dissolving"),t.textContent="Start!",setTimeout(()=>{n.classList.add("dissolving"),setTimeout(()=>{n.style.display="none",e&&e()},1e3)},800))}function Oe(){const e=document.getElementById("instruction-overlay");e&&(e.classList.add("dissolving"),setTimeout(()=>{e.style.display="none"},1e3))}function We(){const e=document.getElementById("classic-shapes-layer");if(!e)return;e.innerHTML="";const t=["▲","◆","•","✦","★","◊"],n=192;for(let o=0;o<n;o++){const s=document.createElement("div");s.className="classic-shape",s.textContent=t[Math.floor(Math.random()*t.length)];const a=Math.floor(Math.random()*26)+10,r=Math.random()*100,c=Math.random()*10+6,i=Math.random()*6,d=(Math.random()-.5)*40;s.style.fontSize=`${a}px`,s.style.left=`${r}%`,s.style.animationDuration=`${c}s`,s.style.animationDelay=`${i}s`,s.style.transform=`translateX(${d}px)`,e.appendChild(s)}}function Ve(e){return{r:Math.min(255,e.r+120),g:Math.min(255,e.g+120),b:Math.min(255,e.b+120)}}function _(e,t){return e.dotGrid?.colorSource==="custom"&&e.dotGrid.color?{...e.dotGrid.color}:e.dotGrid?.colorSource==="hazard"?{...e.colors.hazardColor}:Ve(t)}let W={...Y};function Z(){const e=Pe();let t=1/0;C.forEach(d=>{const l=g-d.x,m=f-d.y,u=Math.sqrt(l*l+m*m);u<t&&(t=u)}),qe(e,t);let n={...Y};if(e<le){const d=1-e/le;n=ue(Y,Q,d)}if(t<de){const d=1-t/de;n=ue(n,ee,d)}W=n;const o=n,s={r:Math.max(0,n.r-20),g:Math.max(0,n.g-20),b:Math.max(0,n.b-20)},r=g/window.innerWidth*360,c=`rgb(${o.r}, ${o.g}, ${o.b})`,i=`rgb(${s.r}, ${s.g}, ${s.b})`;document.body.style.background=`linear-gradient(${r}deg, ${c} 0%, ${i} 100%)`}function Ge(e,t){const n=document.createElement("div");n.className="plus-one",n.textContent="+1",n.style.left=`${e}px`,n.style.top=`${t-30}px`,document.body.appendChild(n),setTimeout(()=>{n.remove()},1e3)}function oe(){C.forEach(e=>{const t=g-e.x,n=f-e.y;Math.sqrt(t*t+n*n)<40&&je()})}function je(){y=!1,N(),C.forEach(o=>{o.element.classList.add("revealed")});const e=document.createElement("div");e.id="game-over-screen";const t=T($);e.innerHTML=`
        <h1>${t.copy.gameOverTitle}</h1>
        <p>${t.copy.gameOverMessage}</p>
        <p>Level: ${v}</p>
        <p>Targets found: ${H}/${j}</p>
        <p>Total targets collected: ${A}</p>
        <p>Levels completed: ${X}</p>
        <div class="score-actions-row">
            <button id="save-score-button">${t.copy.saveScoreCta}</button>
            <button id="restart-button">${t.copy.playAgainCta}</button>
        </div>
    `,document.body.appendChild(e),document.getElementById("restart-button").addEventListener("click",()=>{location.reload()});const n=document.getElementById("save-score-button");n&&n.addEventListener("click",()=>{ze({title:"Save your score",description:`Targets: ${A} · Levels: ${X}`})})}function Ze(){X+=1,y=!1,N(),document.body.style.background="linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)";const e=T($),t=document.createElement("div");t.id="level-complete-screen",t.innerHTML=`
        <h1>Treasure found!</h1>
        <div class="score-actions-row">
            <button id="next-level-button">${e.copy.nextLevelCta}</button>
            <button id="restart-button">${e.copy.restartCta}</button>
        </div>
    `,document.body.appendChild(t);const n=document.getElementById("next-level-button"),o=document.getElementById("restart-button");n&&n.addEventListener("click",()=>{t.remove(),document.body.classList.add("game-started"),v++,p=!1,M=!1,Ce()}),o&&o.addEventListener("click",()=>{location.reload()})}function se(){I.forEach(e=>{const t=g-e.x,n=f-e.y;Math.sqrt(t*t+n*n)<50&&!e.revealed&&(e.element.classList.add("revealed"),e.revealed=!0,H++,A++,be(),Ge(e.x,e.y),Z(),H>=j&&setTimeout(()=>{Ze()},500))})}function Ce(){p=!1,y=!1,M=!1,document.body.classList.add("game-started"),H=0,N(),document.getElementById("game-legend").style.display="flex",document.getElementById("level-indicator").style.display="block",Ue(),I.forEach(e=>{q(e.element),e.element.remove()}),C.forEach(e=>{q(e.element),e.element.remove()}),pe(),he(),ye(),Ye(),be(),xe(),te(v,$),Ne(),v===1?me(`Find the treasure
If it's <span style="color: #FF5C34;">red</span> the treasure is near`,()=>{ge(()=>{p=!0})},!0):v===2?me(`Find the treasure
If it's <span style="color: #FF5C34;">red</span> the treasure is near
If it's <span style="color: #351E28;">dark</span> there is danger`,()=>{ge(()=>{p=!0})},!0):(Oe(),p=!0)}function ae(){!p||y||M||(M=!0,y=!0)}function Ke(e=1){const t=document.getElementById("start-screen");t.style.display="none",document.body.classList.add("game-started"),A=0,X=0,G=!1,v=e,N(),Ce(),ve()}function Ue(){const e=document.getElementById("level-display");e&&(e.textContent=`Level ${v}`)}document.addEventListener("mousemove",e=>{const t=g,n=f;g=e.clientX,f=e.clientY,ne(),p&&!M&&!w&&(Math.abs(g-t)>2||Math.abs(f-n)>2)&&Xe()&&ae(),y&&(Z(),se(),oe())});document.addEventListener("mousedown",()=>{});document.addEventListener("mouseup",()=>{});document.addEventListener("touchstart",e=>{if(w||(w=!0,document.body.classList.add("touch-device")),y||p){e.preventDefault();const t=e.touches[0];g=t.clientX,f=t.clientY,ne(),p&&!M&&ae(),y&&(Z(),se(),oe())}},{passive:!1});document.addEventListener("touchmove",e=>{if(w||(w=!0,document.body.classList.add("touch-device")),y||p){e.preventDefault();const t=e.touches[0];g=t.clientX,f=t.clientY,ne(),p&&!M&&ae(),y&&(Z(),se(),oe())}},{passive:!1});document.addEventListener("touchend",e=>{(y||p)&&e.preventDefault()},{passive:!1});function Ee(e){const t=e.colors.baseColor,n=`rgb(${t.r}, ${t.g}, ${t.b})`,o=`rgb(${Math.min(255,t.r+40)}, ${Math.min(255,t.g+40)}, ${Math.min(255,t.b+40)})`;document.body.style.background=`linear-gradient(135deg, ${n} 0%, ${o} 100%)`}const fe=document.getElementById("start-button");fe&&fe.addEventListener("click",()=>{$="classic";const e=T("classic");Y={...e.colors.baseColor},Q={...e.colors.targetColor},ee={...e.colors.hazardColor},Ee(e),Ke(1)});window.addEventListener("resize",()=>{y&&(pe(),I.forEach(e=>{q(e.element),e.element.remove()}),C.forEach(e=>{q(e.element),e.element.remove()}),he(),ye(),xe())});document.addEventListener("DOMContentLoaded",()=>{document.body.classList.remove("game-started"),N();const e=T("classic");Y={...e.colors.baseColor},Q={...e.colors.targetColor},ee={...e.colors.hazardColor},Ee(e),Fe(e),te(1,"classic"),Je(),We(),_e()});async function _e(){try{const t=await(await fetch("version.json")).json(),n=document.getElementById("version-number");n&&t.version&&(n.textContent=`v${t.version}`)}catch(e){console.error("Failed to load version:",e)}}
